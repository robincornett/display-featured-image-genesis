!function(e,t,n){"use strict";const o={el:e.element.createElement};function r(t,n){const r=[],a=e.components.PanelBody;return Object.keys(n.panels).forEach((function(c,i){if(n.panels.hasOwnProperty(c)){const s=n.panels[c];r[i]=o.el(a,{title:s.title,initialOpen:s.initialOpen,className:o.params.prefix+"-panel-"+c},function(t,n){const r=[];return Object.keys(n).forEach((function(a,c){if(n.hasOwnProperty(a)){if(-1!==["blockAlignment","className","alignment"].indexOf(a))return;const i=n[a],s=function(t,n){const{TextControl:o,SelectControl:r,CheckboxControl:l,TextareaControl:a}=e.components,c=o;if("select"===t)return r;if("checkbox"===t)return l;if("textarea"===t)return a;return c}(i.method,i.type);r[c]=o.el(s,function(e,t,n){const{attributes:r,setAttributes:a}=n,c={label:t.label,value:r[e],className:o.params.prefix+"-"+e,onChange:t=>{"taxonomy"===e&&l(e,t,n),a({[e]:t})}};"select"===t.method?c.options=t.options:"checkbox"===t.method&&(c.checked=r[e]);return c}(a,i,t))}})),r}(t,s.attributes))}})),r}function l(e,r,l){if(o.params.prefix+"/term"!==l.name)return;!function(e,r,l){const{attributes:a,setAttributes:c}=l;t.post(o.params.ajax_url,e,(function(e){if(n!==e.success&&!1===e.success)return!1;!function(e,n,r){const l=t("."+o.params.prefix+"-"+n+" select"),a=r[n]||"";l.empty(),function(e,n,o){t.each(e,(function(e,r){const l=t("<option />").val(e).text(r),a=e?"append":"prepend";n.val(o),n[a](l)}))}(e,l,a)}(t.parseJSON(e),"term",a),r&&c({term:""})}))}(function(e,t,n){const r={action:o.params.prefix+"_block",security:o.params.security},{attributes:l}=n;r.taxonomy="taxonomy"===e?t:l.taxonomy;return r}(e,r,l),e,l)}o.init=function(t){const n=e.blocks.registerBlockType,a=e.components.ServerSideRender,c=e.blockEditor.InspectorControls;n(t.block,{title:t.title,description:t.description,keywords:t.keywords,icon:t.icon,category:t.category,supports:{html:!1},getEditWrapperProps:({blockAlignment:e,alignment:t})=>({"data-align":e,alignment:t}),edit:n=>{const{attributes:i,setAttributes:s}=n,p=e.element.Fragment,u=e.blockEditor.BlockControls,m=e.blockEditor.BlockAlignmentToolbar,f=e.blockEditor.AlignmentToolbar;let b=o.el(a,{block:t.block,attributes:i});return t.placeholder&&!i[t.required]&&(b=o.el("div",{className:o.params.prefix+"-placeholder"},t.placeholder)),[b,o.el(p,null,o.el(u,null,o.el(m,{value:i.blockAlignment,controls:["wide","full"],onChange:e=>{s({blockAlignment:e})}}),o.el(f,{value:i.alignment,controls:["left","right","center"],onChange:e=>{s({alignment:e})}}))),o.el(c,{},r(n,t),l(!1,!1,n))]},save:e=>null})},o.params="undefined"==typeof DisplayFeaturedImageBlock?"":DisplayFeaturedImageBlock,void 0!==o.params&&Object.keys(o.params.blocks).forEach((function(e,t){o.params.blocks.hasOwnProperty(e)&&o.init(o.params.blocks[e])}))}(wp,jQuery);