!function(e,t,n){"use strict";const o={el:e.element.createElement};function r(e,r,l){if(o.params.prefix+"/term"!==l.name)return;!function(e,r,l){const{attributes:a,setAttributes:c}=l;t.post(o.params.ajax_url,e,function(e){if(n!==e.success&&!1===e.success)return!1;const l=t.parseJSON(e);!function(e,n,r){const l=t("."+o.params.prefix+"-"+n+" select"),a=r[n]||"";l.empty(),function(e,n,o){t.each(e,function(e,r){const l=t("<option />").val(e).text(r),a=e?"append":"prepend";n.val(o),n[a](l)})}(e,l,a)}(l,"term",a),r&&c({term:""})})}(function(e,t,n){const r={action:o.params.prefix+"_block",security:o.params.security},{attributes:l}=n;r.taxonomy="taxonomy"===e?t:l.taxonomy;return r}(e,r,l),e,l)}o.init=function(t){const n=e.blocks.registerBlockType,l=e.components.ServerSideRender,a=e.blockEditor.InspectorControls;n(t.block,{title:t.title,description:t.description,keywords:t.keywords,icon:t.icon,category:t.category,supports:{html:!1},getEditWrapperProps:({blockAlignment:e,alignment:t})=>({"data-align":e,alignment:t}),edit:n=>{const{attributes:c,setAttributes:s}=n,i=e.element.Fragment,p=e.blockEditor.BlockControls,u=e.blockEditor.BlockAlignmentToolbar,m=e.blockEditor.AlignmentToolbar;let b=o.el(l,{block:t.block,attributes:c});return t.placeholder&&!c[t.required]&&(b=o.el("div",{className:o.params.prefix+"-placeholder"},t.placeholder)),[b,o.el(i,null,o.el(p,null,o.el(u,{value:c.blockAlignment,controls:["wide","full"],onChange:e=>{s({blockAlignment:e})}}),o.el(m,{value:c.alignment,controls:["left","right","center"],onChange:e=>{s({alignment:e})}}))),o.el(a,{},function(t,n){const l=[],a=e.components.PanelBody;return Object.keys(n.panels).forEach(function(c,s){if(n.panels.hasOwnProperty(c)){const i=n.panels[c];l[s]=o.el(a,{title:i.title,initialOpen:i.initialOpen,className:o.params.prefix+"-panel-"+c},function(t,n){const l=[];return Object.keys(n).forEach(function(a,c){if(n.hasOwnProperty(a)){if(-1!==["blockAlignment","className","alignment"].indexOf(a))return;const s=n[a],i=function(t,n){const{TextControl:o,SelectControl:r,CheckboxControl:l,TextareaControl:a}=e.components,c=o;return"select"===t?r:"checkbox"===t?l:"textarea"===t?a:c}(s.method,s.type);l[c]=o.el(i,function(e,t,n){const{attributes:l,setAttributes:a}=n,c={label:t.label,value:l[e],className:o.params.prefix+"-"+e,onChange:t=>{"taxonomy"===e&&r(e,t,n),a({[e]:t})}};return"select"===t.method?c.options=t.options:"checkbox"===t.method&&(c.checked=l[e]),c}(a,s,t))}}),l}(t,i.attributes))}}),l}(n,t),r(!1,!1,n))]},save:e=>null})},o.params="undefined"==typeof DisplayFeaturedImageBlock?"":DisplayFeaturedImageBlock,void 0!==o.params&&Object.keys(o.params.blocks).forEach(function(e,t){o.params.blocks.hasOwnProperty(e)&&o.init(o.params.blocks[e])})}(wp,jQuery);