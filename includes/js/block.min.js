!function(e,t,n){"use strict";const o={el:e.element.createElement};function r(e,r,a){if(o.params.prefix+"/term"!==a.name)return;!function(e,r,a){const{attributes:c,setAttributes:s}=a;t.post(o.params.ajax_url,e,function(e){if(n!==e.success&&!1===e.success)return!1;const a=t.parseJSON(e);!function(e,n,r){const a=t("."+o.params.prefix+"-"+n+" select"),c=r[n]||"";a.empty(),function(e,n,o){t.each(e,function(e,r){const a=t("<option />").val(e).text(r),c=e?"append":"prepend";n.val(o),n[c](a)})}(e,a,c)}(a,"term",c),r&&s({term:""})})}(function(e,t,n){const r={action:o.params.prefix+"_block",security:o.params.security},{attributes:a}=n;r.taxonomy="taxonomy"===e?t:a.taxonomy;return r}(e,r,a),e,a)}o.init=function(t){const n=e.blocks.registerBlockType,a=e.components.ServerSideRender,c=e.blockEditor.InspectorControls;n(t.block,{title:t.title,description:t.description,keywords:t.keywords,icon:t.icon,category:t.category,supports:{html:!1},getEditWrapperProps:({blockAlignment:e})=>({"data-align":e}),edit:n=>{const{attributes:s,setAttributes:l}=n,i=e.element.Fragment,p=e.blockEditor.BlockControls,u=e.blockEditor.BlockAlignmentToolbar;let m=o.el(a,{block:t.block,attributes:s});return t.placeholder&&!s[t.required]&&(m=o.el("div",{className:o.params.prefix+"-placeholder"},t.placeholder)),[m,o.el(i,null,o.el(p,null,o.el(u,{value:s.blockAlignment,controls:["wide","full"],onChange:e=>{l({blockAlignment:e})}}))),o.el(c,{},function(t,n){const a=[],c=e.components.PanelBody;return Object.keys(n.panels).forEach(function(s,l){if(n.panels.hasOwnProperty(s)){const i=n.panels[s];a[l]=o.el(c,{title:i.title,initialOpen:i.initialOpen,className:o.params.prefix+"-panel-"+s},function(t,n){const a=[];return Object.keys(n).forEach(function(c,s){if(n.hasOwnProperty(c)){if(-1!==["blockAlignment","className"].indexOf(c))return;const l=n[c],i=function(t,n){const{TextControl:o,SelectControl:r,CheckboxControl:a,TextareaControl:c}=e.components,s=o;return"select"===t?r:"checkbox"===t?a:"textarea"===t?c:s}(l.method,l.type);a[s]=o.el(i,function(e,t,n){const{attributes:a,setAttributes:c}=n,s={label:t.label,value:a[e],className:o.params.prefix+"-"+e,onChange:t=>{"taxonomy"===e&&r(e,t,n),c({[e]:t})}};return"select"===t.method?s.options=t.options:"checkbox"===t.method&&(s.checked=a[e]),s}(c,l,t))}}),a}(t,i.attributes))}}),a}(n,t),r(!1,!1,n))]},save:e=>null})},o.params="undefined"==typeof DisplayFeaturedImageBlock?"":DisplayFeaturedImageBlock,void 0!==o.params&&Object.keys(o.params.blocks).forEach(function(e,t){o.params.blocks.hasOwnProperty(e)&&o.init(o.params.blocks[e])})}(wp,jQuery);