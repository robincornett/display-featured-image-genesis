!function(t,e,i){"use strict";var n={};n.init=function(){Object.keys(n.params).forEach(function(r){if(n.params.hasOwnProperty(r)){var a=n.params[r],c=!1,o=!1,s="."+a.modal,d=e("#"+a.modal).find(":input"),u=function(t){var n=[];return e(t).each(function(t){var r=e(this).attr("id");i!==r&&(n[r]=e(this).val()),e(this).is(":checked")&&(n[r]="checked")}),n}(d),f=a.button.replace(" ",".");e("."+f).click(function(i){i.preventDefault(),c=i.target,o=!0,e(s).show(),e(".media-modal-close, .media-modal-backdrop, .sixtenpress-cancel-insertion").click(h),e(t).on("keydown",function(t){27===t.keyCode&&o&&h(t)})}),e(s+".sixtenpress-default-ui .sixtenpress-insert").click(function(t){if(t.preventDefault(),e(c).hasClass(a.button)){var i=function(t,i){var n="";return e(t).each(function(t){var r=e(this).attr("id"),a=e("#"+r).val(),c=this.type;if(r){var o=r.substr(r.lastIndexOf("-")+1);o.includes("nonce")&&(a=""),"checkbox"===c&&(a=i.group.length&&o.includes(i.group)?"":e(this).is(":checked")?-1!==[1,"1","on"].indexOf(a)?"true":a:e(this).is(":required")?"false":""),"button"===c&&(a=""),"textarea"!==c||i.self||(a=""),(a||e(this).is(":required"))&&(n+=" "+o+'="'+a+'"')}}),n}(d,a),n=a.group?function(t,i){var n="";return e(t).each(function(t,r){var a=e("#"+i).find("[id*='"+r+"']"),c=[];e(a).each(function(t){e(this).is(":checked")&&c.push(e(this).val())}),n+=c.length?" "+r+'="'+c.toString()+'"':""}),n}(a.group,a.slug):"",r="";i&&(r="["+a.shortcode+n+i+"]",a.self||(r+=function(t,i){var n=e("#"+i),r=n.find("textarea").val();if(!r){var a=n.find("textarea[id*='"+t+"']").attr("id");"undefined"!==a&&a.length&&(r=tinymce.get(a).getContent({format:"raw"}))}return r}(a.slug,a.modal)+"[/"+a.shortcode+"]"),tinymce.get(e(c).attr("data-editor")).execCommand("mceInsertContent",!1,r))}h(t)})}function h(t){var i;t.preventDefault(),e(s).hide(),e(d).each(function(t){var i=e(this).attr("id"),n=this.type;if("checkbox"===n){var r="checked"===u[i];e(this).attr("checked",r)}else e(this).val(u[i])}),e(s+" .upload-file-preview").remove(),(i=e(s).find(".wp-picker-container")).length&&i.each(function(){var t=e(this).parent();t.html(t.find('input[type="text"].color-field').attr("style","")),t.find('input[type="text"].wp-color-picker').each(function(){var t=e(this),i=t.data("colorpicker")||{};t.wpColorPicker(e.extend({},!1,i))})}),function(){var t=e(s).find("textarea[id*='"+a.slug+"']");if(t.length){var i=t.attr("id");tinymce.get(i).setContent("")}}(),c=o=!1}})},n.params="undefined"==typeof SixTenShortcodes?"":SixTenShortcodes,void 0!==n.params&&n.init()}(document,jQuery);